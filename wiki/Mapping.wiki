= Introduction =

New entities for mappers and other information for mappers.


= Details =

== Conditional sections ==

The .ents, .ai and .script file support #if #else and #endif for cvar conditions, example below.

== New entities ==
  * coop_spawnpoint: this entity is the initial spawn point for coop games, you can place multiple if you want, you can disable spawnpoints by setting their spawnflags to 0.
 * coop_spawnpoint_trigger: this entity is a trigger which enables spawnpoints. The spawnpoints must be linked to it by setting their targetname the same as the classname of this trigger. Set spawnflags of these spawnpoints to 0 so they are not initial spawnpoints.
 * target_location: just like in the multiplayer, this entity is now supported. If you add a 'targetname' field to it which is linked to a 'target' of a coop_spawnpoint_trigger, then this location name is used in the centerprint text when a spawnzone is captured

== Ents file support ==
 If you want to modify existing maps, you can make a file: mapname.ents (in the maps folder), here you can place entity data

 example: tram.ents
{{{
{
"classname" "script_multiplayer"
"scriptname" "game_manager"
}

{
"classname" "coop_spawnpoint"
"spawnflags" "1" 
"origin" "3826 1997 1272"
"angle" "-88"
}

{
"classname" "coop_spawnpoint"
"spawnflags" "1" 
"origin" "3901 1998 1272"
"angle" "-88"
}
#if g_gametype == 1
{
"angle" "225"
"model" "models/multiplayer/flagpole/flagpole_reinforce.md3"
"target" "generator_spawn"
"origin" "3370 -131 670"
"classname" "coop_spawnpoint_trigger"
}

{
"classname" "coop_spawnpoint"
"spawnflags" "0"
"angle" "-69"
"targetname" "generator_spawn"
"origin" "3565 -12 728"
}
{
"origin" "-177 34 105"
"angle" "225"
"model" "models/multiplayer/flagpole/flagpole_reinforce.md3"
"target" "tower_spawn"
"classname" "coop_spawnpoint_trigger"
}

{
"classname" "coop_spawnpoint"
"spawnflags" "0"
"origin" "64 361 472"
"angle" "-91"
"targetname" "tower_spawn"
}
#endif
#if g_reinforce >= 1
{
"classname" "ai_soldier"
"origin" "3573 1548 1272"
"ainame" "coop_ai_soldier_1"
"skin" "infantryss/village2"
"head" "village1"
"spawnflags" "1"
"angle" "-176"
}
{
"classname" "ai_soldier"
"origin" "3503 1643 1272"
"ainame" "coop_ai_soldier_2"
"skin" "infantryss/village1"
"head" "village2"
"spawnflags" "1"
"angle" "-81"
}
#endif

{
"classname" "target_location"
"origin" "-3922 -42 -599"
"message" "Desk"
}

}}}

== .ai scripts ==
 In a coop game, the following attributes are ignored: aim_accuracy, aim_skill, attack_skill and health
 these are set based on the value of g_gameskill
Also the script must be named mapname.coop.ai (single player uses mapname.ai)
the same counts for the mapname.coop.script file

== wolf_entities.def ==
 Some info written by -SSF-Sage, for gtkradiant 1.4
 Go to .../My-GTK-Folder/wolf.game/main. Open wolf_entities.def. Scroll  to the very bottom of the file. Add the following below:
{{{
/*QUAKED coop_spawnpoint (0 0 1) (-18 -18 -24) (18 18 48) startactive
Potential spawning position for COOP. Target with coop_spawnpoint_trigger or tick the box startactive to activate the spawn.

"targetname"		If targeted by coop_spawnpoint_trigger
"angle"			Facing direction

*/

/*QUAKED coop_spawnpoint_trigger (.5 .5 .5) ?
Captureable flag. Target it to coop_spawnpoint.

"target"			Target it to coop_spawnpoint
"model"			Add model ( models/multiplayer/flagpole/flagpole_reinforce.md3 )
"angle"			Facing direction

*/

/*QUAKED target_location (.5 .5 .5) (-8 -8 -8) (8 8 8) ?
Works only on MP or COOP
"targetname"		Can be linked to coop_spawn_trigger to activate with a new spawnpoint.
"message"		Name of the location
"count" 		Set 0-7 for color.
0:white 1:red 2:green 3:yellow 4:blue 5:cyan 6:magenta 7:white


*/
}}}

== Music scripts ==
This is how you use the mu_ commands in COOP:

mu_start:
-In coop.ai file this only affects the client who called it, 
so you must use it in player->spawn event! This is only for map start.
-If you need to start music in the middle of the map, place it in coop.script file!

mu_fade:
-Affects all client in both coop.script and coop.ai file

mu_stop:
-Affects all client in both coop.script and coop.ai file

mu_play:
-Affects all client in both coop.script and coop.ai file

mu_queue:
-Affects all client in both coop.script and coop.ai file





